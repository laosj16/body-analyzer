<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä½“æˆåˆ†åˆ†æä»ª - æµ‹é‡å‡†å¤‡</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/pages.css">
    <link rel="stylesheet" href="css/controls.css">
    <link rel="stylesheet" href="css/gestures.css">
    <link rel="stylesheet" href="css/measure-guide.css">
</head>
<body class="bg-slate-50 text-slate-900 font-inter">
    <div class="screen-container" id="screen-container">
        <!-- æ‰‹åŠ¿è¾¹ç¼˜åŒºåŸŸ -->
        <div class="gesture-edge top" data-gesture="top"></div>
        <div class="gesture-edge left" data-gesture="left"></div>
        <div class="gesture-edge right" data-gesture="right"></div>
        
        <!-- æ»‘åŠ¨æŒ‡ç¤ºå™¨ -->
        <div class="swipe-indicator horizontal" id="swipe-indicator-horizontal"></div>
        
        <!-- æµ‹é‡å¼•å¯¼é¡µ -->
        <div id="page-measure-guide" class="page active">
            <!-- é¡¶éƒ¨çŠ¶æ€æ  -->
            <div class="measure-header">
                <div class="step-indicator">
                    <div class="step-dot active"></div>
                    <div class="step-line"></div>
                    <div class="step-dot"></div>
                    <div class="step-line"></div>
                    <div class="step-dot"></div>
                </div>
                <div class="step-text">å‡†å¤‡æµ‹é‡</div>
                
                <div class="user-badge" id="current-user-info">
                    <div class="user-avatar-mini">
                        <div class="avatar-circle-mini" id="user-avatar">å</div>
                    </div>
                    <span class="user-name-mini" id="current-user-name">åä»”</span>
                </div>
            </div>
            
            <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
            <div class="measure-content">
                <!-- è®¾å¤‡ç¤ºæ„å›¾ -->
                <div class="device-illustration">
                    <div class="scale-platform">
                        <div class="footprint-area">
                            <div class="footprint left-foot">
                                <div class="foot-icon">ğŸ‘£</div>
                                <div class="foot-label">å·¦è„š</div>
                            </div>
                            <div class="footprint right-foot">
                                <div class="foot-icon">ğŸ‘£</div>
                                <div class="foot-label">å³è„š</div>
                            </div>
                        </div>
                        <div class="handle-area">
                            <div class="handle left-handle">
                                <div class="handle-grip"></div>
                                <div class="handle-label">å·¦æ‰‹æ¡æŒ</div>
                            </div>
                            <div class="handle right-handle">
                                <div class="handle-grip"></div>
                                <div class="handle-label">å³æ‰‹æ¡æŒ</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- æµ‹é‡æŒ‡å¼• -->
                <div class="measurement-instructions">
                    <h2 class="instruction-title">æµ‹é‡å‡†å¤‡</h2>
                    <div class="instruction-list">
                        <div class="instruction-item">
                            <div class="instruction-number">1</div>
                            <div class="instruction-content">
                                <div class="instruction-text">è„±ä¸‹é‹è¢œï¼ŒåŒè„šç«™åœ¨é‡‘å±ç”µæä¸Š</div>
                                <div class="instruction-subtext">ç¡®ä¿è„šéƒ¨å®Œå…¨æ¥è§¦ç”µæç‰‡</div>
                            </div>
                        </div>
                        <div class="instruction-item">
                            <div class="instruction-number">2</div>
                            <div class="instruction-content">
                                <div class="instruction-text">åŒæ‰‹æ¡ä½æ‰‹æŸ„ï¼Œæ‰‹å¿ƒæ¥è§¦ç”µæ</div>
                                <div class="instruction-subtext">ä¿æŒæ‰‹éƒ¨å¹²ç‡¥ï¼Œç´§æ¡æ‰‹æŸ„</div>
                            </div>
                        </div>
                        <div class="instruction-item">
                            <div class="instruction-number">3</div>
                            <div class="instruction-content">
                                <div class="instruction-text">èº«ä½“ä¿æŒç›´ç«‹ï¼ŒåŒè‡‚è‡ªç„¶ä¸‹å‚</div>
                                <div class="instruction-subtext">æµ‹é‡è¿‡ç¨‹ä¸­è¯·å‹¿ç§»åŠ¨</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- æ³¨æ„äº‹é¡¹ -->
                <div class="safety-notice">
                    <div class="notice-header">
                        <div class="notice-icon">âš ï¸</div>
                        <span class="notice-title">æµ‹é‡æ³¨æ„äº‹é¡¹</span>
                    </div>
                    <div class="notice-content">
                        æµ‹é‡å‰2å°æ—¶é¿å…å‰§çƒˆè¿åŠ¨ â€¢ æµ‹é‡å‰30åˆ†é’Ÿé¿å…å¤§é‡é¥®æ°´
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- åº•éƒ¨æ§åˆ¶åŒºåŸŸ -->
    <div class="control-area" id="control-area">
        <div class="control-btn-container">
            <button class="control-btn nav" onclick="goToIndex()">è¿”å›å¯¼èˆªé¡µ</button>
            <button class="control-btn back" onclick="goBack()">è¿”å›</button>
            <button class="control-btn measure" onclick="startMeasuring()">æ¨¡æ‹Ÿä¸Šç§¤</button>
        </div>
    </div>

    <script>
        function goBack() {
            window.location.href = 'main.html';
        }
        
        function goToIndex() {
            window.location.href = 'index.html';
        }
        
        function startMeasuring() {
            window.location.href = 'measure-progress.html';
        }
        
        // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºå½“å‰ç”¨æˆ·ä¿¡æ¯
        window.onload = function() {
            // å°è¯•ä»localStorageè·å–æµ‹é‡æ•°æ®
            const measurementData = localStorage.getItem('currentMeasurement');
            let userName = 'åä»”';
            let userAvatar = 'å';
            let userColor = '#3b82f6';
            
            if (measurementData) {
                const data = JSON.parse(measurementData);
                userName = data.user || 'åä»”';
                // è®¾ç½®ç”¨æˆ·å¤´åƒå’Œé¢œè‰²
                switch(userName) {
                    case 'åä»”':
                        userAvatar = 'å';
                        userColor = '#3b82f6';
                        break;
                    case 'äº¦è²':
                        userAvatar = 'äº¦';
                        userColor = '#db2777';
                        break;
                    case 'å¿—ç²':
                        userAvatar = 'å¿—';
                        userColor = '#059669';
                        break;
                    case 'è®¿å®¢':
                        userAvatar = 'G';
                        userColor = '#616161';
                        break;
                    default:
                        userAvatar = userName.substring(0, 1);
                        userColor = '#3b82f6';
                }
            }
            
            // æ›´æ–°é¡µé¢æ˜¾ç¤º
            document.getElementById('current-user-name').textContent = userName;
            const avatarElement = document.getElementById('user-avatar');
            avatarElement.textContent = userAvatar;
            avatarElement.style.background = userColor;
        };
    </script>
    <script src="js/gestures.js"></script>
</body>
</html>
