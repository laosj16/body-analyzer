<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>体成分分析仪 - 测量</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/pages.css">
    <link rel="stylesheet" href="css/controls.css">
    <link rel="stylesheet" href="css/gestures.css">
</head>
<body class="bg-slate-50 text-slate-900 font-inter">
    <div class="screen-container" id="screen-container">
        <!-- 手势边缘区域 -->
        <div class="gesture-edge top" data-gesture="top"></div>
        <div class="gesture-edge bottom" data-gesture="bottom"></div>
        <div class="gesture-edge left" data-gesture="left"></div>
        <div class="gesture-edge right" data-gesture="right"></div>
        
        <!-- 滑动指示器 -->
        <div class="swipe-indicator vertical" id="swipe-indicator-vertical"></div>
        <div class="swipe-indicator horizontal" id="swipe-indicator-horizontal"></div>
        
        <!-- 测量引导页 -->
        <div id="page-measure-guide" class="page active">
            <div class="page-header">
                <h1 class="page-title">测量准备</h1>
            </div>
            
            <div class="guide-animation">
                <div class="footprints">
                    <div class="footprint left"></div>
                    <div class="footprint right"></div>
                </div>
            </div>
            
            <div class="guide-text">
                <div class="guide-instruction">请双脚站在秤上</div>
                <div class="guide-instruction">双手握住手柄</div>
                <div class="guide-instruction">保持身体平衡</div>
            </div>
        </div>

        <!-- 测量中页面 -->
        <div id="page-measuring" class="page">
            <div class="page-header">
                <h1 class="page-title">正在测量</h1>
            </div>
            
            <div class="progress-circle">
                <svg width="280" height="280">
                    <circle class="progress-bg" cx="140" cy="140" r="120"></circle>
                    <circle class="progress-bar" cx="140" cy="140" r="120" id="progress-circle"></circle>
                </svg>
                <div class="progress-text" id="progress-text">0%</div>
            </div>
            
            <div class="guide-text">请保持站立姿势<br>测量进行中...</div>
        </div>

        <!-- 测量结果页面 -->
        <div id="page-result" class="page">
            <div class="page-header">
                <h1 class="page-title">测量完成</h1>
            </div>

            <div class="result-header">
                <div class="result-score-value" id="health-score">85</div>
                <div class="result-score-label">健康评分</div>
            </div>

            <div class="result-grid">
                <div class="result-item" onclick="showDetail('weight')">
                    <div class="result-item-value" id="result-weight">65.2kg</div>
                    <div class="result-item-label">体重</div>
                </div>
                <div class="result-item" onclick="showDetail('bmi')">
                    <div class="result-item-value" id="result-bmi">22.1</div>
                    <div class="result-item-label">BMI</div>
                </div>
                <div class="result-item" onclick="showDetail('fat')">
                    <div class="result-item-value" id="result-fat">15.8%</div>
                    <div class="result-item-label">体脂率</div>
                </div>
                <div class="result-item" onclick="showDetail('muscle')">
                    <div class="result-item-value" id="result-muscle">48.2kg</div>
                    <div class="result-item-label">肌肉量</div>
                </div>
                <div class="result-item" onclick="showDetail('water')">
                    <div class="result-item-value" id="result-water">58.5%</div>
                    <div class="result-item-label">水分率</div>
                </div>
                <div class="result-item" onclick="showDetail('bone')">
                    <div class="result-item-value" id="result-bone">2.8kg</div>
                    <div class="result-item-label">骨量</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 底部控制区域 -->
    <div class="control-area" id="control-area">
        <!-- 测量引导页控制 -->
        <div id="guide-controls">
            <div class="control-btn-container">
                <button class="control-btn nav" onclick="goToIndex()">返回导航页</button>
                <button class="control-btn back" onclick="goBack()">返回</button>
                <button class="control-btn measure" onclick="startMeasuring()">开始测量</button>
            </div>
        </div>

        <!-- 测量中控制 -->
        <div id="measuring-controls" style="display: none;">
            <div class="control-btn-container">
                <button class="control-btn nav" onclick="goToIndex()">返回导航页</button>
                <button class="control-btn cancel emergency-btn" onclick="cancelMeasurement()">取消测量</button>
            </div>
        </div>

        <!-- 结果页控制 -->
        <div id="result-controls" style="display: none;">
            <div class="control-btn-container">
                <button class="control-btn nav" onclick="goToIndex()">返回导航页</button>
                <button class="control-btn back" onclick="goBack()">返回</button>
                <button class="control-btn save" onclick="saveResult()">保存</button>
                <button class="control-btn delete" onclick="deleteResult()">删除</button>
            </div>
        </div>
    </div>

    <script src="js/measure.js"></script>
    <script src="js/gestures.js"></script>
</body>
</html>
